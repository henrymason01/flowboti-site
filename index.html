<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>FlowBotAI — AI Assistants that Convert Visitors</title>
  <meta name="description" content="FlowBotAI is your fully branded, 24/7 virtual assistant that answers customer questions, books calls, and qualifies leads."/>
  <link rel="icon" href="/logo.png" type="image/png"/>
  <link rel="apple-touch-icon" href="/logo.png"/>
  <link rel="stylesheet" href="/styles.css"/>
  <meta name="theme-color" content="#0b0d13"/>

  <!-- Optional CSP if you serve one via meta (headers are better) -->
  <!--
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' https://cdn.botpress.cloud https://files.bpcontent.cloud 'unsafe-inline';
    style-src  'self' 'unsafe-inline' https://cdn.botpress.cloud;
    img-src    'self' data: https://cdn.botpress.cloud https://*.botpress.cloud;
    font-src   'self' https://cdn.botpress.cloud;
    connect-src 'self' https://*.botpress.cloud wss://*.botpress.cloud;
    frame-src  https://cdn.botpress.cloud https://files.bpcontent.cloud;">
  -->

  <!-- Keep the webchat inside our card -->
  <style>
    #webchat { position: relative; width: 100%; height: 100%; }
    #webchat .bpWebchat {
      position: absolute !important;
      inset: 0 !important;
      width: 100% !important;
      height: 100% !important;
      max-height: 100% !important;
      border-radius: 16px !important;
    }
    #webchat .bpFab { display: none !important; }

    /* Make "Or email ..." bigger + white */
    .contact-email-small { font-size: 20px; color: #fff; margin-top: 20px; }
    .contact-email-small a { color: #fff; font-weight: 600; text-decoration: underline; }

    html { scroll-behavior: smooth; }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="nav">
    <div class="container nav-inner-center">
      <a class="brand-center" href="#main">
        <img src="/logo.png" alt="FlowBotAI logo" class="brand-logo"/>
        <span class="brand-name">FlowBotAI</span>
      </a>
    </div>
  </header>

  <main id="main">
    <!-- HERO -->
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <h1>Your Website’s 24/7 Sales Teammate</h1>
          <p class="sub">Capture more enquiries while you sleep. A branded AI assistant that answers questions, books calls, and qualifies leads.</p>
          <div class="cta-row">
            <a href="#demo" class="btn btn-lg btn-primary">See it in Action</a>
            <a href="#contact" class="btn btn-lg btn-secondary">Contact Us</a>
          </div>
        </div>
      </div>
    </section>

    <!-- DEMO -->
    <section id="demo" class="section alt">
      <div class="container">
        <h2 class="center">See your assistant in action</h2>
        <p class="center muted">Trained on your FAQs and brand voice. Ready to handle routine conversations with care.</p>

        <div style="display:flex;justify-content:center;align-items:center;min-height:560px;">
          <div id="webchat-card"
               style="position:relative;width:100%;max-width:900px;height:560px;
                      background:#0b0d13;border-radius:16px;overflow:hidden;
                      box-shadow:0 18px 50px rgba(0,0,0,.35);">
            <!-- Mount target -->
            <div id="webchat"></div>

            <!-- Fallback iframe (shown if JS embed is blocked or fails) -->
            <div id="iframe-fallback" style="display:none; position:absolute; inset:0;">
              <iframe
                src="https://cdn.botpress.cloud/webchat/v3.2/shareable.html?configUrl=https://files.bpcontent.cloud/2025/08/10/00/20250810004526-MT792BNT.json"
                title="FlowBotAI Demo"
                style="position:absolute;inset:0;width:100%;height:100%;border:0;border-radius:16px;background:#0b0d13"
                allow="clipboard-read; clipboard-write; microphone; camera; autoplay; fullscreen"
                loading="eager"
              ></iframe>
            </div>

            <!-- Botpress embed scripts live next to the mount target -->
            <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js"></script>
            <script>
              (function () {
                const root = document.getElementById('webchat');
                const fb   = document.getElementById('iframe-fallback');

                function showFallback() { if (fb) fb.style.display = 'block'; }
                function hideFallback() { if (fb) fb.style.display = 'none'; }

                // Initialize webchat into our div
                try {
                  window.botpress.init({
                    botId: "0d7b480b-f1d5-4d28-943b-2e59f2d62c45",
                    clientId: "4ddde79d-08f5-4846-be15-1303066f19a7",
                    rootElement: root,   // key for cross-browser reliability
                    configuration: {
                      version: "v1",
                      botName: "FlowBot",
                      botDescription: "FlowBotAI is a fully branded, 24/7 virtual assistant that lives on your website. It answers customer questions instantly, books calls, and qualifies leads.",
                      color: "#3276EA",
                      variant: "solid",
                      headerVariant: "solid",
                      themeMode: "dark",
                      fontFamily: "inter",
                      radius: 4,
                      feedbackEnabled: false,
                      footer: "[⚡ by Botpress](https://botpress.com/?from=webchat)"
                    }
                  });
                } catch (e) {
                  // If init throws immediately (CSP, blockers), use fallback
                  showFallback();
                  return;
                }

                // Hide fallback when webchat is ready, then open it
                window.botpress.on('webchat:ready', () => {
                  hideFallback();
                  if (window.botpress.open) window.botpress.open();
                });

                // Safety timer: if nothing mounted after 3s, show fallback
                setTimeout(() => {
                  const mounted = document.querySelector('#webchat .bpWebchat');
                  if (!mounted) showFallback();
                }, 3000);

                // If any load error mentions botpress, show fallback
                window.addEventListener('error', (e) => {
                  const msg = String((e && e.message) || '').toLowerCase();
                  if (msg.includes('botpress')) showFallback();
                }, true);
              })();
            </script>
          </div>
        </div>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section class="section">
      <div class="container">
        <h2 class="center">How It Works</h2>
        <div class="grid-3">
          <article class="tile"><h3>1) Drop in the Snippet</h3><p>One line added to your site. No rebuild needed.</p></article>
          <article class="tile"><h3>2) Train on Your Content</h3><p>We learn from your site, docs, and past chats to match your tone.</p></article>
          <article class="tile"><h3>3) Go Live & Track Leads</h3><p>See conversations, booked calls, and qualified enquiries in one place.</p></article>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section">
      <div class="container">
        <h2 class="center">Contact Us</h2>
        <p class="center muted">Tell us about your business. We’ll reply within one working day.</p>
        <form id="contact-form" class="contact-form" action="https://formspree.io/f/mjkojepy" method="POST" novalidate>
          <input type="text" name="company_website" class="hp" tabindex="-1" autocomplete="off" aria-hidden="true" placeholder="Leave empty" />
          <label class="field"><span class="label">Full name</span><input type="text" name="full_name" required/><span class="error"></span></label>
          <label class="field"><span class="label">Business website</span><input type="url" name="website" placeholder="https://example.com" required/><span class="error"></span></label>
          <label class="field"><span class="label">Work email</span><input type="email" name="_replyto" required/><span class="error"></span></label>
          <label class="field"><span class="label">What should the assistant do?</span><textarea name="requirements" rows="6" required></textarea><span class="error"></span></label>
          <div class="cta-row form-ctas">
            <button type="submit" class="btn btn-full btn-lg btn-primary">Send</button>
          </div>
          <p class="contact-email-small center">Or email <a href="mailto:hello@flowbotai.co.uk">hello@flowbotai.co.uk</a></p>
          <p id="form-status" class="status" role="status" aria-live="polite"></p>
        </form>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer-inner">
      <span>© <span id="year"></span> FlowBotAI</span>
    </div>
  </footer>

  <!-- Minor site JS -->
  <script>
    const y = document.getElementById('year');
    if (y) y.textContent = new Date().getFullYear();
  </script>
</body>
</html>
